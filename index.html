<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Snake Tribute Game</title>
<style>
  * {margin:0; padding:0; box-sizing:border-box;}
  body {
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    height:100vh; background:linear-gradient(135deg,#020024,#7900FF,#00D4FF);
    background-size:400% 400%; animation:bgMove 10s ease infinite;
    font-family:'Poppins',sans-serif; overflow:hidden;
  }
  @keyframes bgMove {
    0% {background-position:0% 50%;}
    50% {background-position:100% 50%;}
    100% {background-position:0% 50%;}
  }

  canvas {
    border:4px solid rgba(255,255,255,0.5);
    border-radius:12px; background:rgba(255,255,255,0.1);
    box-shadow:0 0 25px rgba(255,255,255,0.2);
  }

  .scoreboard {
    margin-top:20px; display:flex; justify-content:space-around;
    width:280px; color:#fff; font-weight:600;
    background:rgba(255,255,255,0.15);
    border-radius:10px; padding:10px; backdrop-filter:blur(8px);
  }

  .reveal-name {
    color:#00FFE0; font-size:1.4em; margin-top:15px;
    letter-spacing:3px; text-shadow:0 0 10px #00FFE0;
    transition:all 0.3s ease;
  }

  .btns {
    margin-top:15px; display:flex; gap:10px;
  }

  .btn {
    background:#fff; color:#222; border:none;
    padding:10px 15px; border-radius:8px;
    font-weight:600; box-shadow:0 0 10px rgba(255,255,255,0.3);
  }

  @media (max-width:600px){
    canvas{width:90vw;height:90vw;}
    .scoreboard{width:80vw;}
  }
</style>
</head>
<body>
<canvas id="canvas" width="300" height="300"></canvas>
<div class="scoreboard">
  <div>Score: <span id="score">0</span></div>
  <div>Record: <span id="record">0</span></div>
</div>
<div class="reveal-name" id="reveal">_</div>
<div class="btns">
  <button class="btn" onclick="startGame()">‚ñ∂Ô∏è Start</button>
  <button class="btn" onclick="restartGame()">üîÑ Restart</button>
</div>

<audio id="eatSound" src="https://actions.google.com/sounds/v1/cartoon/pop.ogg"></audio>
<audio id="bgMusic" src="https://cdn.pixabay.com/audio/2022/08/30/audio_7cc8d6b179.mp3" loop></audio>
<audio id="winSound" src="https://cdn.pixabay.com/download/audio/2021/09/01/audio_8f2a82e6d3.mp3?filename=success-fanfare-trumpets-6185.mp3"></audio>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
let box = 15;
let snake = [{x:150,y:150}];
let direction = 'RIGHT';
let food = {x:0,y:0};
let score = 0;
let record = localStorage.getItem('record') || 0;
let reveal = "";
let index = 0;
let game;
const scoreEl = document.getElementById('score');
const recordEl = document.getElementById('record');
const revealEl = document.getElementById('reveal');
recordEl.innerText = record;
const eatSound = document.getElementById('eatSound');
const bgMusic = document.getElementById('bgMusic');
const winSound = document.getElementById('winSound');

const names = [
  "Ashwin","Bhavadharani","Blessy","Devajeevan","Dhakshayani","Dhanusri","Deepika",
  "Divya","Gokula ramanan","Janani","Kaaviya","Kanishka","Kandhasamy","Kaviya Sri",
  "Keerthana","Kishore","Lavanya","Madhu","Mirudhu","Naga Gowtham","Rohit","Sivanya",
  "Sivaram","Varun","Vignesh.B","Vinitha 56","Yogesh","Sri kaviya","Sudharshan",
  "Vignesh.S","Gokul","Sathish Kumar"
];
const finalName = "DR.SHANTHA LAXMI MAM";
let targets = [...names];

function randomFood(){
  return {
    x:Math.floor(Math.random()*(canvas.width/box))*box,
    y:Math.floor(Math.random()*(canvas.height/box))*box
  };
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Draw food
  ctx.shadowColor = "#FF0080";
  ctx.shadowBlur = 20;
  ctx.fillStyle = "#FF0080";
  ctx.fillRect(food.x,food.y,box,box);
  ctx.shadowBlur = 0;

  // Move snake
  let headX = snake[0].x;
  let headY = snake[0].y;

  if(direction==='LEFT') headX -= box;
  if(direction==='RIGHT') headX += box;
  if(direction==='UP') headY -= box;
  if(direction==='DOWN') headY += box;

  if(headX<0) headX = canvas.width-box;
  if(headX>=canvas.width) headX=0;
  if(headY<0) headY=canvas.height-box;
  if(headY>=canvas.height) headY=0;

  // Eat food
  if(headX===food.x && headY===food.y){
    eatSound.play();
    score++;
    if(score>record){ record=score; localStorage.setItem('record',record);}
    scoreEl.innerText = score;
    recordEl.innerText = record;

    if(index < finalName.length){
      reveal += finalName[index];
      revealEl.innerText = reveal;
      index++;
    }

    if(targets.length>0){
      targets.shift();
      food = randomFood();
    } else {
      clearInterval(game);
      bgMusic.pause();
      winSound.play();
      revealEl.innerText = "üéâ " + finalName + " üéâ";
    }
  } else {
    snake.pop();
  }

  const newHead = {x:headX,y:headY};
  snake.unshift(newHead);

  // Draw snake
  ctx.fillStyle = "#00FFC6";
  snake.forEach((s,i)=>{
    ctx.fillStyle = i===0 ? "#00FFFF" : "#00FFC6";
    ctx.fillRect(s.x,s.y,box-1,box-1);
  });

  // Collision
  for(let i=1;i<snake.length;i++){
    if(snake[i].x===headX && snake[i].y===headY){
      clearInterval(game);
      alert("üí• Game Over!");
      restartGame();
    }
  }
}

function changeDir(e){
  let key = e.keyCode;
  if(key==37 && direction!=='RIGHT') direction='LEFT';
  else if(key==38 && direction!=='DOWN') direction='UP';
  else if(key==39 && direction!=='LEFT') direction='RIGHT';
  else if(key==40 && direction!=='UP') direction='DOWN';
}

function mobileControl(){
  let startX,startY;
  canvas.addEventListener('touchstart',e=>{
    const t=e.touches[0]; startX=t.clientX; startY=t.clientY;
  });
  canvas.addEventListener('touchmove',e=>{
    if(!startX||!startY)return;
    let t=e.touches[0];
    let dx=t.clientX-startX, dy=t.clientY-startY;
    if(Math.abs(dx)>Math.abs(dy)){
      if(dx>0 && direction!=='LEFT') direction='RIGHT';
      else if(dx<0 && direction!=='RIGHT') direction='LEFT';
    } else {
      if(dy>0 && direction!=='UP') direction='DOWN';
      else if(dy<0 && direction!=='DOWN') direction='UP';
    }
    startX=startY=null;
  });
}

function startGame(){
  bgMusic.volume=0.3; bgMusic.play();
  food=randomFood();
  game=setInterval(draw,120);
}

function restartGame(){
  clearInterval(game);
  snake=[{x:150,y:150}];
  direction='RIGHT';
  score=0; index=0; reveal=""; revealEl.innerText="_";
  scoreEl.innerText=0;
  targets=[...names];
  food=randomFood();
  startGame();
}

document.addEventListener('keydown',changeDir);
mobileControl();
</script>
</body>
</html>
