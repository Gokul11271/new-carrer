<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Snake Adventure üêç</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
    color: #fff;
  }

  h1 {
    color: #00ffc6;
    text-shadow: 0 0 8px #00ffc6;
    margin-bottom: 10px;
  }

  .game-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: rgba(255,255,255,0.1);
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.4);
  }

  #canvas {
    border: 4px solid #00ffc6;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0,255,198,0.6);
    background: #fff;
  }

  .stats {
    display: flex;
    justify-content: space-between;
    width: 240px;
    background: rgba(0, 0, 0, 0.3);
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 1em;
    margin-top: 10px;
  }

  .stats span {
    color: #00ffc6;
    font-weight: bold;
  }

  .controls {
    margin-top: 15px;
    display: grid;
    grid-template-columns: 60px 60px 60px;
    gap: 10px;
    justify-content: center;
  }

  .btn {
    width: 60px;
    height: 60px;
    background: rgba(255,255,255,0.2);
    border: 2px solid #00ffc6;
    color: #00ffc6;
    border-radius: 10px;
    font-size: 1.5em;
    font-weight: bold;
    text-align: center;
    line-height: 55px;
    user-select: none;
    transition: 0.2s;
  }

  .btn:active {
    background: #00ffc6;
    color: #000;
  }

  .reward {
    position: absolute;
    top: 20%;
    background: rgba(255,255,255,0.95);
    color: #333;
    padding: 20px 30px;
    border-radius: 12px;
    font-size: 1.2em;
    box-shadow: 0 5px 30px rgba(0,255,198,0.5);
    animation: pop 0.6s ease forwards;
    z-index: 10;
  }

  @keyframes pop {
    0% { transform: scale(0); opacity: 0; }
    60% { transform: scale(1.1); opacity: 1; }
    100% { transform: scale(1); }
  }

  @media (max-width: 600px) {
    #canvas {
      width: 250px;
      height: 250px;
    }
    .stats { width: 200px; font-size: 0.9em; }
  }
</style>
</head>
<body>
  <h1>üêç Snake Adventure</h1>
  <div class="game-container">
    <canvas id="canvas" width="300" height="300"></canvas>
    <div class="stats">
      <p>Score: <span id="points">0</span></p>
      <p>Best: <span id="record">0</span></p>
    </div>
    <div class="controls">
      <div></div>
      <div class="btn" id="up">‚¨ÜÔ∏è</div>
      <div></div>
      <div class="btn" id="left">‚¨ÖÔ∏è</div>
      <div class="btn" id="down">‚¨áÔ∏è</div>
      <div class="btn" id="right">‚û°Ô∏è</div>
    </div>
  </div>

  <script>
    window.onload = () => {
      const canvas = document.getElementById("canvas"),
        ctx = canvas.getContext("2d"),
        cw = canvas.width,
        s = cw / 20;

      let x = 0, y = 0,
          direction = { dir: "right", change: true },
          tail = [],
          food = { x, y },
          speed = 120,
          points = 0,
          record = localStorage.getItem("record") || 0,
          foods = ["üçé", "üçí", "üçã", "üçâ", "üçá", "ü•ù", "üçì", "üçç"];

      document.getElementById("record").textContent = record;

      const eatSound = new Audio("https://cdn.pixabay.com/download/audio/2022/03/15/audio_0e9e9f2762.mp3?filename=click-124467.mp3");
      const moveSound = new Audio("https://cdn.pixabay.com/download/audio/2022/03/15/audio_3fa4cb51d3.mp3?filename=pop-124476.mp3");

      createFood();
      draw();

      document.addEventListener("keydown", e => getDirection(e));
      document.getElementById("up").onclick = () => changeDir("top");
      document.getElementById("down").onclick = () => changeDir("bottom");
      document.getElementById("left").onclick = () => changeDir("left");
      document.getElementById("right").onclick = () => changeDir("right");

      function showReward(text) {
        const reward = document.createElement("div");
        reward.classList.add("reward");
        reward.textContent = text;
        document.body.appendChild(reward);
        setTimeout(() => reward.remove(), 1500);
      }

      function cutTail() {
        alert("üíÄ Game Over!");
        tail = [];
        points = 0;
        document.getElementById("points").textContent = points;
      }

      function createFood(caught = false) {
        let xf = Math.floor(Math.random() * (cw / s)) * s;
        let yf = Math.floor(Math.random() * (cw / s)) * s;

        for (let i = 0; i < tail.length; i++) {
          if (xf === tail[i].x && yf === tail[i].y) return createFood();
        }

        food = { x: xf, y: yf, emoji: foods[Math.floor(Math.random() * foods.length)] };

        if (caught) {
          points++;
          eatSound.play();
          document.getElementById("points").textContent = points;
          if (record < points) {
            record = points;
            localStorage.setItem("record", record);
            document.getElementById("record").textContent = record;
          }

          if (points === 10) showReward("üéÅ You unlocked Level 2!");
          if (points === 20) showReward("üî• Super Speed Unlocked!");
          if (points === 50) showReward("üëë Master Snake!");
        }
      }

      function getDirection(e) {
        switch (e.keyCode) {
          case 37: changeDir("left"); break;
          case 38: changeDir("top"); break;
          case 39: changeDir("right"); break;
          case 40: changeDir("bottom"); break;
        }
      }

      function changeDir(dir) {
        if (
          (dir === "left" && direction.dir !== "right") ||
          (dir === "right" && direction.dir !== "left") ||
          (dir === "top" && direction.dir !== "bottom") ||
          (dir === "bottom" && direction.dir !== "top")
        ) {
          direction = { dir, change: false };
          moveSound.play();
        }
      }

      function setDirection() {
        switch (direction.dir) {
          case "left": x -= s; break;
          case "top": y -= s; break;
          case "right": x += s; break;
          case "bottom": y += s; break;
        }

        if (x >= cw) x = 0;
        if (x < 0) x = cw - s;
        if (y >= cw) y = 0;
        if (y < 0) y = cw - s;
      }

      function draw() {
        setInterval(() => {
          setDirection();
          ctx.fillStyle = "#fff";
          ctx.fillRect(0, 0, cw, cw);

          // Draw tail
          if (tail.length > 0) {
            for (let i = 1; i < tail.length; i++) {
              tail[i - 1] = tail[i];
              ctx.fillStyle = "#00bcd4";
              ctx.fillRect(tail[i].x + 2, tail[i].y + 2, s - 4, s - 4);
              if (tail[i].x === x && tail[i].y === y) cutTail();
            }
            tail[tail.length - 1] = { x, y };
          }

          // Draw food emoji
          ctx.font = `${s}px Arial`;
          ctx.fillText(food.emoji, food.x + 2, food.y + s - 4);

          // Draw head
          ctx.fillStyle = "#008793";
          ctx.fillRect(x, y, s, s);

          if (x === food.x && y === food.y) createFood(true);
          direction.change = true;
        }, speed);
      }
    };
  </script>
</body>
</html>
